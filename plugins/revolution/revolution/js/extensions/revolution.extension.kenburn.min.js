!function(){"use strict";var t=jQuery.fn.revolution,n={alias:"KenBurns Min JS",name:"revolution.extensions.kenburn.min.js",min_core:"5.0",version:"1.1.0"};jQuery.extend(!0,t,{stopKenBurn:function(e){return"stop"!==t.compare_version(n).check&&void(void 0!=e.data("kbtl")&&e.data("kbtl").pause())},startKenBurn:function(e,s,o){if("stop"===t.compare_version(n).check)return!1;var i=e.data(),c=e.find(".defaultimg"),u=c.data("lazyload")||c.data("src"),h=(i.owidth/i.oheight,"carousel"===s.sliderType?s.carousel.slide_width:s.ul.width()),m=s.ul.height();e.data("kbtl")&&e.data("kbtl").kill(),o=o||0,0==e.find(".tp-kbimg").length&&(e.append('<div class="tp-kbimg-wrap" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+u+'" style="position:absolute;" width="'+i.owidth+'" height="'+i.oheight+'"></div>'),e.data("kenburn",e.find(".tp-kbimg")));var l=function(e,t,n,s,o,i,a){var c=e*n,l=t*n,d=Math.abs(s-c),u=Math.abs(o-l),r=new Object;return r.l=(0-i)*d,r.r=r.l+c,r.t=(0-a)*u,r.b=r.t+l,r.h=i,r.v=a,r},f=function(e,t,n,s,o){var i=e.bgposition.split(" ")||"center center",a="center"==i[0]?"50%":"left"==i[0]||"left"==i[1]?"0%":"right"==i[0]||"right"==i[1]?"100%":i[0],r="center"==i[1]?"50%":"top"==i[0]||"top"==i[1]?"0%":"bottom"==i[0]||"bottom"==i[1]?"100%":i[1],a=parseInt(a,0)/100||0,r=parseInt(r,0)/100||0,c=new Object;return c.start=l(o.start.width,o.start.height,o.start.scale,t,n,a,r),c.end=l(o.start.width,o.start.height,o.end.scale,t,n,a,r),c},p=function(e,t,n){var a,c,d=n.scalestart/100,l=n.scaleend/100,o=void 0!=n.offsetstart?n.offsetstart.split(" ")||[0,0]:[0,0],i=void 0!=n.offsetend?n.offsetend.split(" ")||[0,0]:[0,0];n.bgposition="center center"==n.bgposition?"50% 50%":n.bgposition;var s=new Object,p=e*d,g=(p/n.owidth*n.oheight,e*l);g/n.owidth*n.oheight,(s.start=new Object,s.starto=new Object,s.end=new Object,s.endo=new Object,s.start.width=e,s.start.height=s.start.width/n.owidth*n.oheight,s.start.height<t)&&(c=t/s.start.height,s.start.height=t,s.start.width=s.start.width*c),s.start.transformOrigin=n.bgposition,s.start.scale=d,s.end.scale=l,s.start.rotation=n.rotatestart+"deg",s.end.rotation=n.rotateend+"deg",a=f(n,e,t,o,s),o[0]=parseFloat(o[0])+a.start.l,i[0]=parseFloat(i[0])+a.end.l,o[1]=parseFloat(o[1])+a.start.t,i[1]=parseFloat(i[1])+a.end.t;var r=a.start.r-a.start.l,u=a.start.b-a.start.t,h=a.end.r-a.end.l,m=a.end.b-a.end.t;return o[0]=o[0]>0?0:r+o[0]<e?e-r:o[0],i[0]=i[0]>0?0:h+i[0]<e?e-h:i[0],o[1]=o[1]>0?0:u+o[1]<t?t-u:o[1],i[1]=i[1]>0?0:m+i[1]<t?t-m:i[1],s.starto.x=o[0]+"px",s.starto.y=o[1]+"px",s.endo.x=i[0]+"px",s.endo.y=i[1]+"px",s.end.ease=s.endo.ease=n.ease,s.end.force3D=s.endo.force3D=!0,s};void 0!=e.data("kbtl")&&(e.data("kbtl").kill(),e.removeData("kbtl"));var d=e.data("kenburn"),g=d.parent(),a=p(h,m,i),r=new punchgs.TimelineLite;r.pause(),a.start.transformOrigin="0% 0%",a.starto.transformOrigin="0% 0%",r.add(punchgs.TweenLite.fromTo(d,i.duration/1e3,a.start,a.end),0),r.add(punchgs.TweenLite.fromTo(g,i.duration/1e3,a.starto,a.endo),0),r.progress(o),r.play(),e.data("kbtl",r)}})}(jQuery)