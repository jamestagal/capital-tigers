(function(){"use strict";var t=jQuery.fn.revolution,n=t.is_mobile(),s={alias:"Parallax Min JS",name:"revolution.extensions.parallax.min.js",min_core:"5.3",version:"2.0.1"};jQuery.extend(!0,t,{checkForParallax:function(e,o){if(t.compare_version(s).check==="stop")return!1;var a,i=o.parallax;if(i.done)return;if(i.done=!0,n&&i.disable_onmobile=="on")return!1;(i.type=="3D"||i.type=="3d")&&(punchgs.TweenLite.set(o.c,{overflow:i.ddd_overflow}),punchgs.TweenLite.set(o.ul,{overflow:i.ddd_overflow}),o.sliderType!="carousel"&&i.ddd_shadow=="on"&&(o.c.prepend('<div class="dddwrappershadow"></div>'),punchgs.TweenLite.set(o.c.find(".dddwrappershadow"),{force3D:"auto",transformPerspective:1600,transformOrigin:"50% 50%",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:0})));function r(e){if(i.type=="3D"||i.type=="3d"){e.find(".slotholder").wrapAll('<div class="dddwrapper" style="width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden"></div>'),e.find(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layer" style="width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:5;overflow:'+i.ddd_layer_overflow+';"></div>'),e.find(".rs-parallaxlevel-tobggroup").closest(".tp-parallax-wrap").wrapAll('<div class="dddwrapper-layertobggroup" style="position:absolute;top:0px;left:0px;z-index:50;width:100%;height:100%"></div>');var t=e.find(".dddwrapper"),n=e.find(".dddwrapper-layer"),s=e.find(".dddwrapper-layertobggroup");s.appendTo(t),o.sliderType=="carousel"&&(i.ddd_shadow=="on"&&t.addClass("dddwrappershadow"),punchgs.TweenLite.set(t,{borderRadius:o.carousel.border_radius})),punchgs.TweenLite.set(e,{overflow:"visible",transformStyle:"preserve-3d",perspective:1600}),punchgs.TweenLite.set(t,{force3D:"auto",transformOrigin:"50% 50%"}),punchgs.TweenLite.set(n,{force3D:"auto",transformOrigin:"50% 50%",zIndex:5}),punchgs.TweenLite.set(o.ul,{transformStyle:"preserve-3d",transformPerspective:1600})}}o.li.each(function(){r(jQuery(this))}),(i.type=="3D"||i.type=="3d")&&o.c.find(".tp-static-layers").length>0&&(punchgs.TweenLite.set(o.c.find(".tp-static-layers"),{top:0,left:0,width:"100%",height:"100%"}),r(o.c.find(".tp-static-layers"))),i.pcontainers=new Array,i.pcontainer_depths=new Array,i.bgcontainers=new Array,i.bgcontainer_depths=new Array,o.c.find(".tp-revslider-slidesli .slotholder, .tp-revslider-slidesli .rs-background-video-layer").each(function(){var t=jQuery(this),e=t.data("bgparallax")||o.parallax.bgparallax,e=e=="on"?1:e;e!==void 0&&e!=="off"&&(i.bgcontainers.push(t),i.bgcontainer_depths.push(o.parallax.levels[parseInt(e,0)-1]/100))});for(a=1;a<=i.levels.length;a++)o.c.find(".rs-parallaxlevel-"+a).each(function(){var t=jQuery(this),e=t.closest(".tp-parallax-wrap");e.data("parallaxlevel",i.levels[a-1]),e.addClass("tp-parallax-container"),i.pcontainers.push(e),i.pcontainer_depths.push(i.levels[a-1])});(i.type=="mouse"||i.type=="scroll+mouse"||i.type=="mouse+scroll"||i.type=="3D"||i.type=="3d")&&(e.mouseenter(function(t){var n=e.find(".active-revslide"),s=e.offset().top,o=e.offset().left,i=t.pageX-o,a=t.pageY-s;n.data("enterx",i),n.data("entery",a)}),e.on("mousemove.hoverdir, mouseleave.hoverdir, trigger3dpath",function(t,n){if(s=n&&n.li?n.li:e.find(".active-revslide"),i.origo=="enterpoint"){a=e.offset().top,r=e.offset().left,s.data("enterx")==void 0&&s.data("enterx",t.pageX-r),s.data("entery")==void 0&&s.data("entery",t.pageY-a);var s,a,r,c,h,j=s.data("enterx")||t.pageX-r,v=s.data("entery")||t.pageY-a,l=j-(t.pageX-r),d=v-(t.pageY-a),u=i.speed/1e3||.4}else var a=e.offset().top,r=e.offset().left,l=o.conw/2-(t.pageX-r),d=o.conh/2-(t.pageY-a),u=i.speed/1e3||3;t.type=="mouseleave"&&(l=i.ddd_lasth||0,d=i.ddd_lastv||0,u=1.5);for(c=0;c<i.pcontainers.length;c++){var m=i.pcontainers[c],f=i.pcontainer_depths[c],p=i.type=="3D"||i.type=="3d"?f/200:f/100,g=l*p,b=d*p;i.type=="scroll+mouse"||i.type=="mouse+scroll"?punchgs.TweenLite.to(m,u,{force3D:"auto",x:g,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(m,u,{force3D:"auto",x:g,y:b,ease:punchgs.Power3.easeOut,overwrite:"all"})}(i.type=="3D"||i.type=="3d")&&(h=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer",o.sliderType==="carousel"&&(h=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),o.c.find(h).each(function(){var e=jQuery(this),n=i.levels[i.levels.length-1]/200,s=l*n,a=d*n,h=o.conw==0?0:Math.round(l/o.conw*n*100)||0,m=o.conh==0?0:Math.round(d/o.conh*n*100)||0,f=e.closest("li"),r=0,c=!1;e.hasClass("dddwrapper-layer")&&(r=i.ddd_z_correction||65,c=!0),e.hasClass("dddwrapper-layer")&&(s=0,a=0),f.hasClass("active-revslide")||o.sliderType!="carousel"?i.ddd_bgfreeze!="on"||c?punchgs.TweenLite.to(e,u,{rotationX:m,rotationY:-h,x:s,z:r,y:a,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,x:0,y:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),t.type=="mouseleave"&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}))}),n&&(window.ondeviceorientation=function(t){n=Math.round(t.beta||0)-70,s=Math.round(t.gamma||0),d=e.find(".active-revslide"),jQuery(window).width()>jQuery(window).height()&&(u=s,s=n,n=u);var n,s,l,d,u,m=e.width(),f=e.height(),a=360/m*s,r=180/f*n,h=i.speed/1e3||3,c=[];d.find(".tp-parallax-container").each(function(){c.push(jQuery(this))}),e.find(".tp-static-layers .tp-parallax-container").each(function(){c.push(jQuery(this))}),jQuery.each(c,function(){var e=jQuery(this),n=parseInt(e.data("parallaxlevel"),0),t=n/100,s=a*t*2,o=r*t*4;punchgs.TweenLite.to(e,h,{force3D:"auto",x:s,y:o,ease:punchgs.Power3.easeOut,overwrite:"all"})}),(i.type=="3D"||i.type=="3d")&&(l=".tp-revslider-slidesli .dddwrapper, .dddwrappershadow, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer",o.sliderType==="carousel"&&(l=".tp-revslider-slidesli .dddwrapper, .tp-revslider-slidesli .dddwrapper-layer, .tp-static-layers .dddwrapper-layer"),o.c.find(l).each(function(){var e=jQuery(this),n=i.levels[i.levels.length-1]/200,s=a*n,c=r*n*3,u=o.conw==0?0:Math.round(a/o.conw*n*500)||0,m=o.conh==0?0:Math.round(r/o.conh*n*700)||0,f=e.closest("li"),l=0,d=!1;e.hasClass("dddwrapper-layer")&&(l=i.ddd_z_correction||65,d=!0),e.hasClass("dddwrapper-layer")&&(s=0,c=0),f.hasClass("active-revslide")||o.sliderType!="carousel"?i.ddd_bgfreeze!="on"||d?punchgs.TweenLite.to(e,h,{rotationX:m,rotationY:-u,x:s,z:l,y:c,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,rotationX:0,z:0,ease:punchgs.Power3.easeOut,overwrite:"all"}):punchgs.TweenLite.to(e,.5,{force3D:"auto",rotationY:0,z:0,x:0,y:0,rotationX:0,ease:punchgs.Power3.easeOut,overwrite:"all"}),t.type=="mouseleave"&&punchgs.TweenLite.to(jQuery(this),3.8,{z:0,ease:punchgs.Power3.easeOut})}))})),t.scrollTicker(o,e)},scrollTicker:function(e,s){var o;e.scrollTicker!=!0&&(e.scrollTicker=!0,n?(punchgs.TweenLite.ticker.fps(150),punchgs.TweenLite.ticker.addEventListener("tick",function(){t.scrollHandling(e)},s,!1,1)):document.addEventListener("scroll",function(){t.scrollHandling(e,!0)},{passive:!0})),t.scrollHandling(e,!0)},scrollHandling:function(e,s){if(e.lastwindowheight=e.lastwindowheight||window.innerHeight,e.conh=e.conh===0||e.conh===void 0?e.infullscreenmode?e.minHeight:e.c.height():e.conh,e.lastscrolltop==window.scrollY&&!e.duringslidechange&&!s)return!1;punchgs.TweenLite.delayedCall(.2,o,[e,window.scrollY]);var a,l,r=e.c[0].getBoundingClientRect(),c=e.viewPort,i=e.parallax,d=r.top<0||r.height>e.lastwindowheight?r.top/r.height:r.bottom>e.lastwindowheight?(r.bottom-e.lastwindowheight)/r.height:0;if(e.scrollproc=d,t.callBackHandling&&t.callBackHandling(e,"parallax","start"),c.enable&&(l=1-Math.abs(d),l=l<0?0:l,jQuery.isNumeric(c.visible_area)||c.visible_area.indexOf("%")!==-1&&(c.visible_area=parseInt(c.visible_area)/100),1-c.visible_area<=l?e.inviewport||(e.inviewport=!0,t.enterInViewPort(e)):e.inviewport&&(e.inviewport=!1,t.leaveViewPort(e))),n&&i.disable_onmobile=="on")return!1;if(i.type!="3d"&&i.type!="3D"){if((i.type=="scroll"||i.type=="scroll+mouse"||i.type=="mouse+scroll")&&i.pcontainers)for(a=0;a<i.pcontainers.length;a++)if(i.pcontainers[a].length>0){var h=i.pcontainers[a],m=i.pcontainer_depths[a]/100,u=Math.round(d*-(m*e.conh)*10)/10||0;h.data("parallaxoffset",u),punchgs.TweenLite.set(h,{overwrite:"auto",force3D:"auto",y:u})}if(i.bgcontainers)for(a=0;a<i.bgcontainers.length;a++){var f=i.bgcontainers[a],p=i.bgcontainer_depths[a],u=d*-(p*e.conh)||0;punchgs.TweenLite.set(f,{position:"absolute",top:"0px",left:"0px",backfaceVisibility:"hidden",force3D:"true",y:u+"px"})}}t.callBackHandling&&t.callBackHandling(e,"parallax","end")}});function o(e,t){e.lastscrolltop=t}})(jQuery)