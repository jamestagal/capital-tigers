(function(){"use strict";var n,s,o,i,a,r,c,t=jQuery.fn.revolution,l={alias:"Carousel Min JS",name:"revolution.extensions.carousel.min.js",min_core:"5.0",version:"1.1.0"};jQuery.extend(!0,t,{prepareCarousel:function(e,o,i){if(t.compare_version(l).check==="stop")return!1;i=e.carousel.lastdirection=n(i,e.carousel.lastdirection),a(e),e.carousel.slide_offset_target=c(e),o==void 0?t.carouselToEvalPosition(e,i):s(e,i,!1)},carouselToEvalPosition:function(e,o){i=e.carousel,o=i.lastdirection=n(o,i.lastdirection);var i,a=t.simp(l,e.slideamount,!1),l=i.horizontal_align==="center"?(i.wrapwidth/2-i.slide_width/2-i.slide_globaloffset)/i.slide_width:(0-i.slide_globaloffset)/i.slide_width,c=a-Math.floor(a),r=0,d=-1*(Math.ceil(a)-a),u=-1*(Math.floor(a)-a),r=c>=.3&&o==="left"||c>=.7&&o==="right"?d:c<.3&&o==="left"||c<.7&&o==="right"?u:r,r=i.infinity==="off"?a<0?a:l>e.slideamount-1?l-(e.slideamount-1):r:r;i.slide_offset_target=r*i.slide_width,Math.abs(i.slide_offset_target)!==0?s(e,o,!0):t.organiseCarousel(e,o)},organiseCarousel:function(e,t,n,s){t=t===void 0||t=="down"||t=="up"||t===null||jQuery.isEmptyObject(t)?"left":t;for(var i,l,d,u,o=e.carousel,r=new Array,c=o.slides.length,h=o.horizontal_align==="right"?e.width:0,a=0;a<c;a++)i=a*o.slide_width+o.slide_offset,o.infinity==="on"&&(i=i>o.wrapwidth-o.inneroffset&&t=="right"?o.slide_offset-(o.slides.length-a)*o.slide_width:i,i=i<0-o.inneroffset-o.slide_width&&t=="left"?i+o.maxwidth:i),r[a]=i;l=999,o.slides&&jQuery.each(o.slides,function(s,i){u=r[s],o.infinity==="on"&&(u=u>o.wrapwidth-o.inneroffset&&t==="left"?r[0]-(c-s)*o.slide_width:u,u=u<0-o.inneroffset-o.slide_width?t=="left"?u+o.maxwidth:t==="right"?r[c-1]+(s+1)*o.slide_width:u:u),a=new Object,a.left=u+o.inneroffset;var a,u,m,d=o.horizontal_align==="center"?(Math.abs(o.wrapwidth/2)-(a.left+o.slide_width/2))/o.slide_width:(o.inneroffset-a.left)/o.slide_width,f=d<0?-1:1,h=o.horizontal_align==="center"?2:1;if((n&&Math.abs(d)<l||d===0)&&(l=Math.abs(d),o.focused=s),a.width=o.slide_width,a.x=0,a.transformPerspective=1200,a.transformOrigin="50% "+o.vertical_align,o.fadeout==="on")if(o.vary_fade==="on")a.autoAlpha=1-Math.abs(1/Math.ceil(o.maxVisibleItems/h)*d);else switch(o.horizontal_align){case"center":a.autoAlpha=Math.abs(d)<Math.ceil(o.maxVisibleItems/h-1)?1:1-(Math.abs(d)-Math.floor(Math.abs(d)));break;case"left":a.autoAlpha=d<1&&d>0?1-d:Math.abs(d)>o.maxVisibleItems-1?1-(Math.abs(d)-(o.maxVisibleItems-1)):1;break;case"right":a.autoAlpha=d>-1&&d<0?1-Math.abs(d):d>o.maxVisibleItems-1?1-(Math.abs(d)-(o.maxVisibleItems-1)):1;break}else a.autoAlpha=Math.abs(d)<Math.ceil(o.maxVisibleItems/h)?1:0;o.minScale!==void 0&&o.minScale>0&&(o.vary_scale==="on"?(a.scale=1-Math.abs(o.minScale/100/Math.ceil(o.maxVisibleItems/h)*d),m=(o.slide_width-o.slide_width*a.scale)*Math.abs(d)):(a.scale=d>=1||d<=-1?1-o.minScale/100:(100-o.minScale*Math.abs(d))/100,m=(o.slide_width-o.slide_width*(1-o.minScale/100))*Math.abs(d))),o.maxRotation!==void 0&&Math.abs(o.maxRotation)!=0&&(o.vary_rotation==="on"?(a.rotationY=Math.abs(o.maxRotation)-Math.abs((1-Math.abs(1/Math.ceil(o.maxVisibleItems/h)*d))*o.maxRotation),a.autoAlpha=Math.abs(a.rotationY)>90?0:a.autoAlpha):a.rotationY=d>=1||d<=-1?o.maxRotation:Math.abs(d)*o.maxRotation,a.rotationY=d<0?a.rotationY*-1:a.rotationY),a.x=-1*o.space*d,a.left=Math.floor(a.left),a.x=Math.floor(a.x),a.scale!==void 0?d<0?a.x-m:a.x+m:a.x,a.zIndex=Math.round(100-Math.abs(d*5)),a.transformStyle=e.parallax.type!="3D"&&e.parallax.type!="3d"?"flat":"preserve-3d",punchgs.TweenLite.set(i,a)}),s&&(e.c.find(".next-revslide").removeClass("next-revslide"),jQuery(o.slides[o.focused]).addClass("next-revslide"),e.c.trigger("revolution.nextslide.waiting")),d=o.wrapwidth/2-o.slide_offset,u=o.maxwidth+o.slide_offset-o.wrapwidth/2}}),i=function(e){var t=e.carousel;t.infbackup=t.infinity,t.maxVisiblebackup=t.maxVisibleItems,t.slide_globaloffset="none",t.slide_offset=0,t.wrap=e.c.find(".tp-carousel-wrapper"),t.slides=e.c.find(".tp-revslider-slidesli"),t.maxRotation!==0&&(e.parallax.type!="3D"&&e.parallax.type!="3d"?punchgs.TweenLite.set(t.wrap,{perspective:1200,transformStyle:"flat"}):punchgs.TweenLite.set(t.wrap,{perspective:1600,transformStyle:"preserve-3d"})),t.border_radius!==void 0&&parseInt(t.border_radius,0)>0&&punchgs.TweenLite.set(e.c.find(".tp-revslider-slidesli"),{borderRadius:t.border_radius})},a=function(e){e.bw===void 0&&t.setSize(e);var s,n=e.carousel,o=t.getHorizontalOffset(e.c,"left"),a=t.getHorizontalOffset(e.c,"right");n.wrap===void 0&&i(e),n.slide_width=n.stretch!=="on"?e.gridwidth[e.curWinRange]*e.bw:e.c.width(),n.maxwidth=e.slideamount*n.slide_width,n.maxVisiblebackup>n.slides.length+1&&(n.maxVisibleItems=n.slides.length+2),n.wrapwidth=n.maxVisibleItems*n.slide_width+(n.maxVisibleItems-1)*n.space,n.wrapwidth=e.sliderLayout!="auto"?n.wrapwidth>e.c.closest(".tp-simpleresponsive").width()?e.c.closest(".tp-simpleresponsive").width():n.wrapwidth:n.wrapwidth>e.ul.width()?e.ul.width():n.wrapwidth,n.infinity=n.wrapwidth>=n.maxwidth?"off":n.infbackup,n.wrapoffset=n.horizontal_align==="center"?(e.c.width()-a-o-n.wrapwidth)/2:0,n.wrapoffset=e.sliderLayout!="auto"&&e.outernav?0:n.wrapoffset<o?o:n.wrapoffset,s="hidden",(e.parallax.type=="3D"||e.parallax.type=="3d")&&(s="visible"),n.horizontal_align==="right"?punchgs.TweenLite.set(n.wrap,{left:"auto",right:n.wrapoffset+"px",width:n.wrapwidth,overflow:s}):punchgs.TweenLite.set(n.wrap,{right:"auto",left:n.wrapoffset+"px",width:n.wrapwidth,overflow:s}),n.inneroffset=n.horizontal_align==="right"?n.wrapwidth-n.slide_width:0,n.realoffset=Math.abs(n.wrap.position().left),n.windhalf=jQuery(window).width()/2},n=function(e,t){return e===null||jQuery.isEmptyObject(e)?t:e===void 0?"right":e},s=function(e,s,o){var a,i=e.carousel;s=i.lastdirection=n(s,i.lastdirection),a=new Object,a.from=0,a.to=i.slide_offset_target,i.positionanim!==void 0&&i.positionanim.pause(),i.positionanim=punchgs.TweenLite.to(a,1.2,{from:a.to,onUpdate:function(){i.slide_offset=i.slide_globaloffset+a.from,i.slide_offset=t.simp(i.slide_offset,i.maxwidth),t.organiseCarousel(e,s,!1,!1)},onComplete:function(){i.slide_globaloffset=i.infinity==="off"?i.slide_globaloffset+i.slide_offset_target:t.simp(i.slide_globaloffset+i.slide_offset_target,i.maxwidth),i.slide_offset=t.simp(i.slide_offset,i.maxwidth),t.organiseCarousel(e,s,!1,!0);var n=jQuery(e.li[i.focused]);e.c.find(".next-revslide").removeClass("next-revslide"),o&&t.callingNewSlide(e.c,n.data("index"))},ease:punchgs.Expo.easeOut})},o=function(e,t){return Math.abs(e)>Math.abs(t)?e>0?e-Math.abs(Math.floor(e/t)*t):e+Math.abs(Math.floor(e/t)*t):e},r=function(e,t,n){var n,s=t-e,i=t-n-e,n,s=o(s,n),i=o(i,n);return Math.abs(s)>Math.abs(i)?i:s},c=function(e){var s,i,o=0,n=e.carousel;return n.positionanim!==void 0&&n.positionanim.kill(),n.slide_globaloffset=="none"?n.slide_globaloffset=o=n.horizontal_align==="center"?n.wrapwidth/2-n.slide_width/2:0:(n.slide_globaloffset=n.slide_offset,n.slide_offset=0,s=e.c.find(".processing-revslide").index(),i=n.horizontal_align==="center"?(n.wrapwidth/2-n.slide_width/2-n.slide_globaloffset)/n.slide_width:(0-n.slide_globaloffset)/n.slide_width,i=t.simp(i,e.slideamount,!1),s=s>=0?s:e.c.find(".active-revslide").index(),s=s>=0?s:0,o=n.infinity==="off"?i-s:-r(i,s,e.slideamount),o=o*n.slide_width),o}})(jQuery)