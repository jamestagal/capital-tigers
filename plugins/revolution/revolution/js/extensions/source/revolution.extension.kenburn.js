(function(){"use strict";var t=jQuery.fn.revolution,n={alias:"KenBurns Min JS",name:"revolution.extensions.kenburn.min.js",min_core:"5.0",version:"1.1.0"};jQuery.extend(!0,t,{stopKenBurn:function(e){if(t.compare_version(n).check==="stop")return!1;e.data("kbtl")!=void 0&&e.data("kbtl").pause()},startKenBurn:function(e,s,o){if(t.compare_version(n).check==="stop")return!1;var i=e.data(),c=e.find(".defaultimg"),m=c.data("lazyload")||c.data("src"),v=i.owidth/i.oheight,l=s.sliderType==="carousel"?s.carousel.slide_width:s.ul.width(),d=s.ul.height(),b=l/d;e.data("kbtl")&&e.data("kbtl").kill(),o=o||0,e.find(".tp-kbimg").length==0&&(e.append('<div class="tp-kbimg-wrap" style="z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;"><img class="tp-kbimg" src="'+m+'" style="position:absolute;" width="'+i.owidth+'" height="'+i.oheight+'"></div>'),e.data("kenburn",e.find(".tp-kbimg")));var u=function(e,t,n,s,o,i,a){var c=e*n,l=t*n,d=Math.abs(s-c),u=Math.abs(o-l),r=new Object;return r.l=(0-i)*d,r.r=r.l+c,r.t=(0-a)*u,r.b=r.t+l,r.h=i,r.v=a,r},f=function(e,t,n,s,o){var i=e.bgposition.split(" ")||"center center",a=i[0]=="center"?"50%":i[0]=="left"||i[1]=="left"?"0%":i[0]=="right"||i[1]=="right"?"100%":i[0],r=i[1]=="center"?"50%":i[0]=="top"||i[1]=="top"?"0%":i[0]=="bottom"||i[1]=="bottom"?"100%":i[1],a=parseInt(a,0)/100||0,r=parseInt(r,0)/100||0,c=new Object;return c.start=u(o.start.width,o.start.height,o.start.scale,t,n,a,r),c.end=u(o.start.width,o.start.height,o.end.scale,t,n,a,r),c},p=function(e,t,n){var c=n.scalestart/100,l=n.scaleend/100,o=n.offsetstart!=void 0?n.offsetstart.split(" ")||[0,0]:[0,0],i=n.offsetend!=void 0?n.offsetend.split(" ")||[0,0]:[0,0];n.bgposition=n.bgposition=="center center"?"50% 50%":n.bgposition;var a,r,s=new Object,p=e*c,v=p/n.owidth*n.oheight,g=e*l,b=g/n.owidth*n.oheight;s.start=new Object,s.starto=new Object,s.end=new Object,s.endo=new Object,s.start.width=e,s.start.height=s.start.width/n.owidth*n.oheight,s.start.height<t&&(r=t/s.start.height,s.start.height=t,s.start.width=s.start.width*r),s.start.transformOrigin=n.bgposition,s.start.scale=c,s.end.scale=l,s.start.rotation=n.rotatestart+"deg",s.end.rotation=n.rotateend+"deg",a=f(n,e,t,o,s),o[0]=parseFloat(o[0])+a.start.l,i[0]=parseFloat(i[0])+a.end.l,o[1]=parseFloat(o[1])+a.start.t,i[1]=parseFloat(i[1])+a.end.t;var d=a.start.r-a.start.l,u=a.start.b-a.start.t,h=a.end.r-a.end.l,m=a.end.b-a.end.t;return o[0]=o[0]>0?0:d+o[0]<e?e-d:o[0],i[0]=i[0]>0?0:h+i[0]<e?e-h:i[0],o[1]=o[1]>0?0:u+o[1]<t?t-u:o[1],i[1]=i[1]>0?0:m+i[1]<t?t-m:i[1],s.starto.x=o[0]+"px",s.starto.y=o[1]+"px",s.endo.x=i[0]+"px",s.endo.y=i[1]+"px",s.end.ease=s.endo.ease=n.ease,s.end.force3D=s.endo.force3D=!0,s};e.data("kbtl")!=void 0&&(e.data("kbtl").kill(),e.removeData("kbtl"));var h=e.data("kenburn"),g=h.parent(),a=p(l,d,i),r=new punchgs.TimelineLite;r.pause(),a.start.transformOrigin="0% 0%",a.starto.transformOrigin="0% 0%",r.add(punchgs.TweenLite.fromTo(h,i.duration/1e3,a.start,a.end),0),r.add(punchgs.TweenLite.fromTo(g,i.duration/1e3,a.starto,a.endo),0),r.progress(o),r.play(),e.data("kbtl",r)}})})(jQuery)