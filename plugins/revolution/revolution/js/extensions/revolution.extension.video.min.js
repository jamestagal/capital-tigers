!function(){"use strict";function n(e){return void 0==e?-1:jQuery.isNumeric(e)?e:e.split(":").length>1?60*parseInt(e.split(":")[0],0)+parseInt(e.split(":")[1],0):e}var t=jQuery.fn.revolution,o=t.is_mobile(),l={alias:"Video Min JS",name:"revolution.extensions.video.min.js",min_core:"5.3",version:"2.0.1"};jQuery.extend(!0,t,{preLoadAudio:function(e,n){return"stop"!==t.compare_version(l).check&&void e.find(".tp-audiolayer").each(function(){var s=jQuery(this),e={};0===s.find("audio").length&&(e.src=void 0!=s.data("videomp4")?s.data("videomp4"):"",e.pre=s.data("videopreload")||"",void 0===s.attr("id")&&s.attr("audio-layer-"+Math.round(199999*Math.random())),e.id=s.attr("id"),e.status="prepared",e.start=jQuery.now(),e.waittime=1e3*s.data("videopreloadwait")||5e3,"auto"!=e.pre&&"canplaythrough"!=e.pre&&"canplay"!=e.pre&&"progress"!=e.pre||(void 0===n.audioqueue&&(n.audioqueue=[]),n.audioqueue.push(e),t.manageVideoLayer(s,n)))})},preLoadAudioDone:function(e,t,n){t.audioqueue&&t.audioqueue.length>0&&jQuery.each(t.audioqueue,function(t,s){e.data("videomp4")!==s.src||s.pre!==n&&"auto"!==s.pre||(s.status="loaded")})},resetVideo:function(e,s){switch(i=e.data(),i.videotype){case"youtube":i.player;try{if("on"==i.forcerewind){var i,l,a=n(e.data("videostartat")),r=a==-1,c=1===i.bgvideo||e.find(".tp-videoposter").length>0,a=a==-1?0:a;void 0!=i.player&&(0!==a&&!r||c)&&(i.player.seekTo(a),i.player.pauseVideo())}}catch(e){}0==e.find(".tp-videoposter").length&&1!==i.bgvideo&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"vimeo":l=$f(e.find("iframe").attr("id"));try{if("on"==i.forcerewind){var a=n(i.videostartat),r=a==-1,c=1===i.bgvideo||e.find(".tp-videoposter").length>0,a=a==-1?0:a;(0!==a&&!r||c)&&(l.api("seekTo",a),l.api("pause"))}}catch(e){}0==e.find(".tp-videoposter").length&&1!==i.bgvideo&&punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});break;case"html5":if(o&&1==i.disablevideoonmobile)return!1;var h="html5"==i.audio?"audio":"video",d=e.find(h),u=d[0];if(punchgs.TweenLite.to(d,.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"on"==i.forcerewind&&!e.hasClass("videoisplaying"))try{a=n(i.videostartat),u.currentTime=a==-1?0:a}catch(e){}("mute"==i.volume||t.lastToggleState(e.videomutetoggledby)||s.globalmute===!0)&&(u.muted=!0)}},isVideoMuted:function(e){switch(n=!1,s=e.data(),s.videotype){case"youtube":try{o=s.player,n=o.isMuted()}catch(e){}break;case"vimeo":try{$f(e.find("iframe").attr("id")),"mute"==s.volume&&(n=!0)}catch(e){}break;case"html5":var n,s,o,i="html5"==s.audio?"audio":"video",a=e.find(i),r=a[0];r.muted&&(n=!0)}return n},muteVideo:function(e){switch(n=e.data(),n.videotype){case"youtube":try{s=n.player,s.mute()}catch(e){}break;case"vimeo":try{o=$f(e.find("iframe").attr("id")),e.data("volume","mute"),o.api("setVolume",0)}catch(e){}break;case"html5":var n,s,o,i="html5"==n.audio?"audio":"video",a=e.find(i),r=a[0];r.muted=!0}},unMuteVideo:function(e,t){if(t.globalmute!==!0)switch(n=e.data(),n.videotype){case"youtube":try{s=n.player,s.unMute()}catch(e){}break;case"vimeo":try{o=$f(e.find("iframe").attr("id")),e.data("volume","1"),o.api("setVolume",1)}catch(e){}break;case"html5":var n,s,o,i="html5"==n.audio?"audio":"video",a=e.find(i),r=a[0];r.muted=!1}},stopVideo:function(e,t){switch(n=e.data(),t.leaveViewPortBasedStop||(t.lastplayedvideos=[]),t.leaveViewPortBasedStop=!1,n.videotype){case"youtube":try{if(s=n.player,2===s.getPlayerState()||5===s.getPlayerState())return;s.pauseVideo(),n.youtubepausecalled=!0,setTimeout(function(){n.youtubepausecalled=!1},80)}catch(e){console.log("Issue at YouTube Video Pause:"),console.log(e)}break;case"vimeo":try{o=$f(e.find("iframe").attr("id")),o.api("pause"),n.vimeopausecalled=!0,setTimeout(function(){n.vimeopausecalled=!1},80)}catch(e){console.log("Issue at Vimeo Video Pause:"),console.log(e)}break;case"html5":var n,s,o,r="html5"==n.audio?"audio":"video",i=e.find(r),a=i[0];void 0!=i&&void 0!=a&&a.pause()}},playVideo:function(e,i){switch(clearTimeout(e.data("videoplaywait")),a=e.data(),a.videotype){case"youtube":0==e.find("iframe").length?(e.append(e.data("videomarkup")),r(e,i,!0)):void 0!=a.player.playVideo?(c=n(e.data("videostartat")),d=a.player.getCurrentTime(),1==e.data("nextslideatend-triggered")&&(d=-1,e.data("nextslideatend-triggered",0)),c!=-1&&c>d&&a.player.seekTo(c),a.youtubepausecalled!==!0&&a.player.playVideo()):e.data("videoplaywait",setTimeout(function(){a.youtubepausecalled!==!0&&t.playVideo(e,i)},50));break;case"vimeo":0==e.find("iframe").length?(e.append(e.data("videomarkup")),r(e,i,!0)):e.hasClass("rs-apiready")?(h=e.find("iframe").attr("id"),u=$f(h),void 0==u.api("play")?e.data("videoplaywait",setTimeout(function(){a.vimeopausecalled!==!0&&t.playVideo(e,i)},50)):setTimeout(function(){u.api("play");var t=n(e.data("videostartat")),s=e.data("currenttime");1==e.data("nextslideatend-triggered")&&(s=-1,e.data("nextslideatend-triggered",0)),t!=-1&&t>s&&u.api("seekTo",t)},510)):e.data("videoplaywait",setTimeout(function(){a.vimeopausecalled!==!0&&t.playVideo(e,i)},50));break;case"html5":if(o&&1==e.data("disablevideoonmobile"))return!1;var a,c,d,u,h,f="html5"==a.audio?"audio":"video",m=e.find(f),l=m[0],p=m.parent();1!=p.data("metaloaded")?s(l,"loadedmetadata",function(e){t.resetVideo(e,i),l.play();var s=n(e.data("videostartat")),o=l.currentTime;1==e.data("nextslideatend-triggered")&&(o=-1,e.data("nextslideatend-triggered",0)),s!=-1&&s>o&&(l.currentTime=s)}(e)):(l.play(),c=n(e.data("videostartat")),d=l.currentTime,1==e.data("nextslideatend-triggered")&&(d=-1,e.data("nextslideatend-triggered",0)),c!=-1&&c>d&&(l.currentTime=c))}},isVideoPlaying:function(e,t){var n=!1;return void 0!=t.playingvideos&&jQuery.each(t.playingvideos,function(t,s){e.attr("id")==s.attr("id")&&(n=!0)}),n},removeMediaFromList:function(e,t){a(e,t)},prepareCoveredVideo:function(e,n,s){var o=s.find("iframe, video"),d=e.split(":")[0],u=e.split(":")[1],r=s.closest(".tp-revslider-slidesli"),i=r.width()/r.height(),a=d/u,c=i/a*100,l=a/i*100;i>a?punchgs.TweenLite.to(o,.001,{height:c+"%",width:"100%",top:-(c-100)/2+"%",left:"0px",position:"absolute"}):punchgs.TweenLite.to(o,.001,{width:l+"%",height:"100%",left:-(l-100)/2+"%",top:"0px",position:"absolute"}),o.hasClass("resizelistener")||(o.addClass("resizelistener"),jQuery(window).resize(function(){clearTimeout(o.data("resizelistener")),o.data("resizelistener",setTimeout(function(){t.prepareCoveredVideo(e,n,s)},30))}))},checkVideoApis:function(e,t,n){if("https:"===location.protocol?"https":"http",((void 0!=e.data("ytid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&(t.youtubeapineeded=!0),(void 0!=e.data("ytid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("youtube")>0)&&0==n.addedyt)&&(t.youtubestarttime=jQuery.now(),n.addedyt=1,i=document.createElement("script"),i.src="https://www.youtube.com/iframe_api",s=document.getElementsByTagName("script")[0],o=!0,jQuery("head").find("*").each(function(){"https://www.youtube.com/iframe_api"==jQuery(this).attr("src")&&(o=!1)}),o&&s.parentNode.insertBefore(i,s)),(void 0!=e.data("vimeoid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&(t.vimeoapineeded=!0),(void 0!=e.data("vimeoid")||e.find("iframe").length>0&&e.find("iframe").attr("src").toLowerCase().indexOf("vimeo")>0)&&0==n.addedvim){t.vimeostarttime=jQuery.now(),n.addedvim=1;var i,a=document.createElement("script"),s=document.getElementsByTagName("script")[0],o=!0;a.src="https://secure-a.vimeocdn.com/js/froogaloop2.min.js",jQuery("head").find("*").each(function(){"https://secure-a.vimeocdn.com/js/froogaloop2.min.js"==jQuery(this).attr("src")&&(o=!1)}),o&&s.parentNode.insertBefore(a,s)}return n},manageVideoLayer:function(e,i){if("stop"===t.compare_version(l).check)return!1;var m,v,b,C,E,k,F,T,d=e.data(),u=d.videoattributes,x=d.ytid,_=d.vimeoid,S="auto"===d.videopreload||"canplay"===d.videopreload||"canplaythrough"===d.videopreload||"progress"===d.videopreload?"auto":d.videopreload,O=d.videomp4,A=d.videowebm,M=d.videoogv,j=d.allowfullscreenvideo,y=d.videocontrols,p="http",w="loop"==d.videoloop?"loop":"loopandnoslidestop"==d.videoloop?"loop":"",g=void 0!=O||void 0!=A?"html5":void 0!=x&&String(x).length>1?"youtube":void 0!=_&&String(_).length>1?"vimeo":"none",f="html5"==d.audio?"audio":"video",z="html5"==g&&0==e.find(f).length?"html5":"youtube"==g&&0==e.find("iframe").length?"youtube":"vimeo"==g&&0==e.find("iframe").length?"vimeo":"none";switch(w=d.nextslideatend===!0?"":w,d.videotype=g,z){case"html5":"controls"!=y&&(y=""),f="video","html5"==d.audio&&(f="audio",e.addClass("tp-audio-html5")),m="<"+f+' style="object-fit:cover;background-size:cover;visible:hidden;width:100%; height:100%" class="" '+w+' preload="'+S+'">',"auto"==S&&(i.mediapreload=!0),void 0!=A&&"firefox"==t.get_browser().toLowerCase()&&(m=m+'<source src="'+A+'" type="video/webm" />'),void 0!=O&&(m=m+'<source src="'+O+'" type="video/mp4" />'),void 0!=M&&(m=m+'<source src="'+M+'" type="video/ogg" />'),m=m+"</"+f+">",C="","true"!==j&&j!==!0||(C='<div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-full-screen">Full-Screen</button></div>'),"controls"==y&&(m+='<div class="tp-video-controls"><div class="tp-video-button-wrap"><button type="button" class="tp-video-button tp-vid-play-pause">Play</button></div><div class="tp-video-seek-bar-wrap"><input  type="range" class="tp-seek-bar" value="0"></div><div class="tp-video-button-wrap"><button  type="button" class="tp-video-button tp-vid-mute">Mute</button></div><div class="tp-video-vol-bar-wrap"><input  type="range" class="tp-volume-bar" min="0" max="1" step="0.1" value="1"></div>'+C+"</div>"),e.data("videomarkup",m),e.append(m),(o&&1==e.data("disablevideoonmobile")||t.isIE(8))&&e.find(f).remove(),e.find(f).each(function(){var a,r=this,o=jQuery(this);o.parent().hasClass("html5vid")||o.wrap('<div class="html5vid" style="position:relative;top:0px;left:0px;width:100%;height:100%; overflow:hidden;"></div>'),a=o.parent(),1!=a.data("metaloaded")&&s(r,"loadedmetadata",function(e){h(e,i),t.resetVideo(e,i)}(e))});break;case"youtube":p="https","none"==y&&(u=u.replace("controls=1","controls=0"),u.toLowerCase().indexOf("controls")==-1&&(u+="&controls=0")),d.videoinline!==!0&&"true"!==d.videoinline&&1!==d.videoinline||(u+="&playsinline=1"),E=n(e.data("videostartat")),k=n(e.data("videoendat")),E!=-1&&(u=u+"&start="+E),k!=-1&&(u=u+"&end="+k),b=u.split("origin="+p+"://"),v="",b.length>1?(v=b[0]+"origin="+p+"://",self.location.href.match(/www/gi)&&!b[1].match(/www/gi)&&(v+="www."),v+=b[1]):v=u,F="true"===j||j===!0?"allowfullscreen":"",e.data("videomarkup",'<iframe style="visible:hidden" type="text/html" src="'+p+"://www.youtube.com/embed/"+x+"?"+v+'" '+F+' width="100%" height="100%" style="width:100%;height:100%"></iframe>');break;case"vimeo":p="https",e.data("videomarkup",'<iframe style="visible:hidden" src="'+p+"://player.vimeo.com/video/"+_+"?autoplay=0&"+u+'" webkitallowfullscreen mozallowfullscreen allowfullscreen width="100%" height="100%" style="100%;height:100%"></iframe>')}if(T=o&&"on"==e.data("noposteronmobile"),void 0!=d.videoposter&&d.videoposter.length>2&&!T)0==e.find(".tp-videoposter").length&&e.append('<div class="tp-videoposter noSwipe" style="cursor:pointer; position:absolute;top:0px;left:0px;width:100%;height:100%;z-index:3;background-image:url('+d.videoposter+'); background-size:cover;background-position:center center;"></div>'),0==e.find("iframe").length&&e.find(".tp-videoposter").click(function(){if(t.playVideo(e,i),o){if(1==e.data("disablevideoonmobile"))return!1;punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut})}});else{if(o&&1==e.data("disablevideoonmobile"))return!1;0!=e.find("iframe").length||"youtube"!=g&&"vimeo"!=g||(e.append(e.data("videomarkup")),r(e,i,!1))}"none"!=e.data("dottedoverlay")&&void 0!=e.data("dottedoverlay")&&1!=e.find(".tp-dottedoverlay").length&&e.append('<div class="tp-dottedoverlay '+e.data("dottedoverlay")+'"></div>'),e.addClass("HasListener"),1==e.data("bgvideo")&&punchgs.TweenLite.set(e.find("video, iframe"),{autoAlpha:0})}});var s=function(e,t,n){e.addEventListener?e.addEventListener(t,n,{capture:!1,passive:!0}):e.attachEvent(t,n,{capture:!1,passive:!0})},i=function(e,t,n){var s={};return s.video=e,s.videotype=t,s.settings=n,s},r=function(e,s,r){var l,m,f,b,h=e.data(),_=e.find("iframe"),v="iframe"+Math.round(1e5*Math.random()+1),g=h.videoloop,w="loopandnoslidestop"!=g;if((g="loop"==g||"loopandnoslidestop"==g,1==e.data("forcecover"))&&(e.removeClass("fullscreenvideo").addClass("coverscreenvideo"),f=e.data("aspectratio"),void 0!=f&&f.split(":").length>1&&t.prepareCoveredVideo(f,s,e)),1==e.data("bgvideo")&&(f=e.data("aspectratio"),void 0!=f&&f.split(":").length>1&&t.prepareCoveredVideo(f,s,e)),_.attr("id",v),r&&e.data("startvideonow",!0),1!==e.data("videolistenerexist"))switch(h.videotype){case"youtube":m=new YT.Player(v,{events:{onStateChange:function(o){var r,l=e.closest(".tp-simpleresponsive"),f=(h.videorate,e.data("videostart"),u());o.data==YT.PlayerState.PLAYING?(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),"mute"==e.data("volume")||t.lastToggleState(e.data("videomutetoggledby"))||s.globalmute===!0?m.mute():(m.unMute(),m.setVolume(parseInt(e.data("volume"),0)||75)),s.videoplaying=!0,c(e,s),w?s.c.trigger("stoptimer"):s.videoplaying=!1,s.c.trigger("revolution.slide.onvideoplay",i(m,"youtube",e.data())),t.toggleState(h.videotoggledby)):(0==o.data&&g&&(r=n(e.data("videostartat")),r!=-1&&m.seekTo(r),m.playVideo(),t.toggleState(h.videotoggledby)),!f&&(0==o.data||2==o.data)&&"on"==e.data("showcoveronpause")&&e.find(".tp-videoposter").length>0&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),o.data!=-1&&3!=o.data&&(s.videoplaying=!1,s.tonpause=!1,a(e,s),l.trigger("starttimer"),s.c.trigger("revolution.slide.onvideostop",i(m,"youtube",e.data())),void 0!=s.currentLayerVideoIsPlaying&&s.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(h.videotoggledby)),0==o.data&&1==e.data("nextslideatend")?(d(),e.data("nextslideatend-triggered",1),s.c.revnext(),a(e,s)):(a(e,s),s.videoplaying=!1,l.trigger("starttimer"),s.c.trigger("revolution.slide.onvideostop",i(m,"youtube",e.data())),void 0!=s.currentLayerVideoIsPlaying&&s.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(h.videotoggledby)))},onReady:function(t){var s,i=h.videorate;e.data("videostart"),(e.addClass("rs-apiready"),void 0!=i&&t.target.setPlaybackRate(parseFloat(i)),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){o||m.playVideo()}),e.data("startvideonow"))&&(h.player.playVideo(),s=n(e.data("videostartat")),s!=-1&&h.player.seekTo(s)),e.data("videolistenerexist",1)}}}),e.data("player",m);break;case"vimeo":for(var j,p=_.attr("src"),y={},O=p,x=/([^&=]+)=([^&]*)/g;j=x.exec(O);)y[decodeURIComponent(j[1])]=decodeURIComponent(j[2]);p=void 0!=y.player_id?p.replace(y.player_id,v):p+"&player_id="+v;try{p=p.replace("api=0","api=1")}catch(e){}p+="&api=1",_.attr("src",p),m=e.find("iframe")[0],l=(jQuery("#"+v),$f(v)),l.addEvent("ready",function(){if(e.addClass("rs-apiready"),l.addEvent("play",function(){e.data("nextslidecalled",0),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut}),s.c.trigger("revolution.slide.onvideoplay",i(l,"vimeo",e.data())),s.videoplaying=!0,c(e,s),w?s.c.trigger("stoptimer"):s.videoplaying=!1,"mute"==e.data("volume")||t.lastToggleState(e.data("videomutetoggledby"))||s.globalmute===!0?l.api("setVolume","0"):l.api("setVolume",parseInt(e.data("volume"),0)/100||.75),t.toggleState(h.videotoggledby)}),l.addEvent("playProgress",function(t){var i,o=n(e.data("videoendat"));e.data("currenttime",t.seconds),0!=o&&Math.abs(o-t.seconds)<.3&&o>t.seconds&&1!=e.data("nextslidecalled")&&(g?(l.api("play"),i=n(e.data("videostartat")),i!=-1&&l.api("seekTo",i)):(1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),s.c.revnext()),l.api("pause")))}),l.addEvent("finish",function(){a(e,s),s.videoplaying=!1,s.c.trigger("starttimer"),s.c.trigger("revolution.slide.onvideostop",i(l,"vimeo",e.data())),1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),s.c.revnext()),void 0!=s.currentLayerVideoIsPlaying&&s.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(h.videotoggledby)}),l.addEvent("pause",function(){e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find("iframe"),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),s.videoplaying=!1,s.tonpause=!1,a(e,s),s.c.trigger("starttimer"),s.c.trigger("revolution.slide.onvideostop",i(l,"vimeo",e.data())),void 0!=s.currentLayerVideoIsPlaying&&s.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(h.videotoggledby)}),e.find(".tp-videoposter").unbind("click"),e.find(".tp-videoposter").click(function(){if(!o)return l.api("play"),!1}),e.data("startvideonow")){l.api("play");var r=n(e.data("videostartat"));r!=-1&&l.api("seekTo",r)}e.data("videolistenerexist",1)})}else switch(b=n(e.data("videostartat")),h.videotype){case"youtube":r&&(h.player.playVideo(),b!=-1&&h.player.seekTo());break;case"vimeo":r&&(l=$f(e.find("iframe").attr("id")),l.api("play"),b!=-1&&l.api("seekTo",b))}},d=function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},u=function(){try{if(void 0!==window.fullScreen)return window.fullScreen;var e=5;return jQuery.browser.webkit&&/Apple Computer/.test(navigator.vendor)&&(e=42),screen.width==window.innerWidth&&Math.abs(screen.height-window.innerHeight)<e}catch(e){}},h=function(e,r){if(o&&1==e.data("disablevideoonmobile"))return!1;var w,m=e.data(),x="html5"==m.audio?"audio":"video",b=e.find(x),h=b[0],v=b.parent(),p=m.videoloop,_="loopandnoslidestop"!=p;(p="loop"==p||"loopandnoslidestop"==p,v.data("metaloaded",1),1!=e.data("bgvideo")||"none"!==m.videoloop&&m.videoloop!==!1||(_=!1),void 0==b.attr("control")&&(0!=e.find(".tp-video-play-button").length||o||e.append('<div class="tp-video-play-button"><i class="revicon-right-dir"></i><span class="tp-revstop">&nbsp;</span></div>'),e.find("video, .tp-poster, .tp-video-play-button").click(function(){e.hasClass("videoisplaying")?h.pause():h.play()})),1==e.data("forcecover")||e.hasClass("fullscreenvideo")||1==e.data("bgvideo"))&&(1==e.data("forcecover")||1==e.data("bgvideo")?(v.addClass("fullcoveredvideo"),w=e.data("aspectratio")||"4:3",t.prepareCoveredVideo(w,r,e)):v.addClass("fullscreenvideo"));var O=e.find(".tp-vid-play-pause")[0],g=e.find(".tp-vid-mute")[0],j=e.find(".tp-vid-full-screen")[0],f=e.find(".tp-seek-bar")[0],y=e.find(".tp-volume-bar")[0];void 0!=O&&s(O,"click",function(){1==h.paused?h.play():h.pause()}),void 0!=g&&s(g,"click",function(){0==h.muted?(h.muted=!0,g.innerHTML="Unmute"):(h.muted=!1,g.innerHTML="Mute")}),void 0!=j&&j&&s(j,"click",function(){h.requestFullscreen?h.requestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.webkitRequestFullscreen&&h.webkitRequestFullscreen()}),void 0!=f&&(s(f,"change",function(){var e=h.duration*(f.value/100);h.currentTime=e}),s(f,"mousedown",function(){e.addClass("seekbardragged"),h.pause()}),s(f,"mouseup",function(){e.removeClass("seekbardragged"),h.play()})),s(h,"canplaythrough",function(){t.preLoadAudioDone(e,r,"canplaythrough")}),s(h,"canplay",function(){t.preLoadAudioDone(e,r,"canplay")}),s(h,"progress",function(){t.preLoadAudioDone(e,r,"progress")}),s(h,"timeupdate",function(){var s,i=100/h.duration*h.currentTime,t=n(e.data("videoendat")),o=h.currentTime;void 0!=f&&(f.value=i),0!=t&&t!=-1&&Math.abs(t-o)<=.3&&t>o&&1!=e.data("nextslidecalled")&&(p?(h.play(),s=n(e.data("videostartat")),s!=-1&&(h.currentTime=s)):(1==e.data("nextslideatend")&&(e.data("nextslideatend-triggered",1),e.data("nextslidecalled",1),r.just_called_nextslide_at_htmltimer=!0,r.c.revnext(),setTimeout(function(){r.just_called_nextslide_at_htmltimer=!1},1e3)),h.pause()))}),void 0!=y&&s(y,"change",function(){h.volume=y.value}),s(h,"play",function(){e.data("nextslidecalled",0),n=e.data("volume"),n=void 0!=n&&"mute"!=n?parseFloat(n)/100:n,r.globalmute===!0?h.muted=!0:h.muted=!1,n>1&&(n/=100),"mute"==n?h.muted=!0:void 0!=n&&(h.volume=n),e.addClass("videoisplaying"),s="html5"==m.audio?"audio":"video",c(e,r),_&&"audio"!=s?(r.videoplaying=!0,r.c.trigger("stoptimer"),r.c.trigger("revolution.slide.onvideoplay",i(h,"html5",m))):(r.videoplaying=!1,"audio"!=s&&r.c.trigger("starttimer"),r.c.trigger("revolution.slide.onvideostop",i(h,"html5",m))),punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:0,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find(s),.3,{autoAlpha:1,display:"block",ease:punchgs.Power3.easeInOut});var n,s,o=e.find(".tp-vid-play-pause")[0],a=e.find(".tp-vid-mute")[0];void 0!=o&&(o.innerHTML="Pause"),void 0!=a&&h.muted&&(a.innerHTML="Unmute"),t.toggleState(m.videotoggledby)}),s(h,"pause",function(){var n,s="html5"==m.audio?"audio":"video",o=u();!o&&e.find(".tp-videoposter").length>0&&"on"==e.data("showcoveronpause")&&!e.hasClass("seekbardragged")&&(punchgs.TweenLite.to(e.find(".tp-videoposter"),.3,{autoAlpha:1,force3D:"auto",ease:punchgs.Power3.easeInOut}),punchgs.TweenLite.to(e.find(s),.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut})),e.removeClass("videoisplaying"),r.videoplaying=!1,a(e,r),"audio"!=s&&r.c.trigger("starttimer"),r.c.trigger("revolution.slide.onvideostop",i(h,"html5",e.data())),n=e.find(".tp-vid-play-pause")[0],void 0!=n&&(n.innerHTML="Play"),void 0!=r.currentLayerVideoIsPlaying&&r.currentLayerVideoIsPlaying.attr("id")!=e.attr("id")||t.unToggleState(m.videotoggledby)}),s(h,"ended",function(){d(),a(e,r),r.videoplaying=!1,a(e,r),"audio"!=x&&r.c.trigger("starttimer"),r.c.trigger("revolution.slide.onvideostop",i(h,"html5",e.data())),e.data("nextslideatend")===!0&&h.currentTime>0&&(1==!r.just_called_nextslide_at_htmltimer&&(e.data("nextslideatend-triggered",1),r.c.revnext(),r.just_called_nextslide_at_htmltimer=!0),setTimeout(function(){r.just_called_nextslide_at_htmltimer=!1},1500)),e.removeClass("videoisplaying")})},c=function(e,n){void 0==n.playingvideos&&(n.playingvideos=new Array),e.data("stopallvideos")&&void 0!=n.playingvideos&&n.playingvideos.length>0&&(n.lastplayedvideos=jQuery.extend(!0,[],n.playingvideos),jQuery.each(n.playingvideos,function(e,s){t.stopVideo(s,n)})),n.playingvideos.push(e),n.currentLayerVideoIsPlaying=e},a=function(e,t){void 0!=t.playingvideos&&jQuery.inArray(e,t.playingvideos)>=0&&t.playingvideos.splice(jQuery.inArray(e,t.playingvideos),1)}}(jQuery)